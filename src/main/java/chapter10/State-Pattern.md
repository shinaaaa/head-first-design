# 상태 패턴

- 내부 상태가 바뀜에 따라 객체의 행동이 바뀔 수 있도록 해줌
- 마치 객체의 클래스가 바뀌는 것 같은 결과를 얻을 수 있음
- 상태 패턴을 사용하면 내부 상태를 바탕으로 여러 가지 서로 다른 행동을 사용할 수 있음
- 상태 패턴을 사용하면 프로시저형 상태 기계를 쓸 때와는 달리 각 상태를 클래스로 표현함
- Context 객체는 현재 상태에게 행동을 위임함
- 각 상태를 클래스로 캡슐화래서 나중에 변경해야하는 내용을 국지화할 수 있음
- 상태 패턴과 전략 패턴의 클래스 다이어그램은 똑같지만 그 용도는 다름
- 전략 패턴에서 Context 클래스를 만들때 행동과 알고리즘을 설정함
- 상태 패턴을 사용하면 Context의 내부 상태가 바뀜에 따라 객체가 알아서 행동을 바꿀 수 있도록 할 수 있음
- 상태 전환은 State 클래스로 제어할 수도 있고, Context 클래스로 제어할 수도 있음
- 상태 패턴을 쓰면 디자인에 필요한 클래스의 개수가 늘어남
- State 클래스를 여러 Context 객체의 인스턴스에서 공유하도록 디자인할 수도 있음

객체 지향 기초

- 추상화
- 캡슐화
- 다형성
- 상속

객체지향 원칙

- 바뀌는 부분을 캡슐화한다.
- 상속보다 구성을 활용한다.
- 구현보다는 인터페이스에 맞춰서 프로그래밍한다.
- 상호작용하는 객체 사이에서는 가능하면 느슨한 결합을 사용해야한다.
- 클래스는 확장에는 열려 있어야 하지만 변경에서는 닫혀 있어야한다.(OCP)
- 추상화된 것에 의존하게 만들고 구상 클래스에 의존하지 않게 만든다.
- 진짜 절친에게만 이야기해야 한다.
- 먼저 연락하지마세요. 저희가 연락 드리겠습니다.
- 어떤 클래스가 바뀌는 이유는 하나뿐이어야만 한다.
